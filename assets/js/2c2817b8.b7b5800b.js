"use strict";(self.webpackChunksat=self.webpackChunksat||[]).push([[578],{2362:(e,n,i)=>{i.d(n,{A:()=>D});var s=i(6540),t=i(4848);function r(e){const{mdxAdmonitionTitle:n,rest:i}=function(e){const n=s.Children.toArray(e),i=n.find((e=>s.isValidElement(e)&&"mdxAdmonitionTitle"===e.type)),r=n.filter((e=>e!==i)),o=i?.props.children;return{mdxAdmonitionTitle:o,rest:r.length>0?(0,t.jsx)(t.Fragment,{children:r}):null}}(e.children),r=e.title??n;return{...e,...r&&{title:r},children:i}}var o=i(4164),a=i(539),l=i(204);const c="admonition_xJq3",d="admonitionHeading_Gvgb",h="admonitionIcon_Rf37",u="admonitionContent_BuS1";function m({type:e,className:n,children:i}){return(0,t.jsx)("div",{className:(0,o.A)(l.G.common.admonition,l.G.common.admonitionType(e),c,n),children:i})}function x({icon:e,title:n}){return(0,t.jsxs)("div",{className:d,children:[(0,t.jsx)("span",{className:h,children:e}),n]})}function p({children:e}){return e?(0,t.jsx)("div",{className:u,children:e}):null}function j(e){const{type:n,icon:i,title:s,children:r,className:o}=e;return(0,t.jsxs)(m,{type:n,className:o,children:[s||i?(0,t.jsx)(x,{title:s,icon:i}):null,(0,t.jsx)(p,{children:r})]})}function f(e){return(0,t.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})})}const y={icon:(0,t.jsx)(f,{}),title:(0,t.jsx)(a.A,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)",children:"note"})};function g(e){return(0,t.jsx)(j,{...y,...e,className:(0,o.A)("alert alert--secondary",e.className),children:e.children})}function v(e){return(0,t.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})})}const A={icon:(0,t.jsx)(v,{}),title:(0,t.jsx)(a.A,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)",children:"tip"})};function S(e){return(0,t.jsx)(j,{...A,...e,className:(0,o.A)("alert alert--success",e.className),children:e.children})}function b(e){return(0,t.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})})}const w={icon:(0,t.jsx)(b,{}),title:(0,t.jsx)(a.A,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)",children:"info"})};function T(e){return(0,t.jsx)(j,{...w,...e,className:(0,o.A)("alert alert--info",e.className),children:e.children})}function k(e){return(0,t.jsx)("svg",{viewBox:"0 0 16 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})})}const C={icon:(0,t.jsx)(k,{}),title:(0,t.jsx)(a.A,{id:"theme.admonition.warning",description:"The default label used for the Warning admonition (:::warning)",children:"warning"})};function N(e){return(0,t.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})})}const z={icon:(0,t.jsx)(N,{}),title:(0,t.jsx)(a.A,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)",children:"danger"})};const I={icon:(0,t.jsx)(k,{}),title:(0,t.jsx)(a.A,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)",children:"caution"})};const P={...{note:g,tip:S,info:T,warning:function(e){return(0,t.jsx)(j,{...C,...e,className:(0,o.A)("alert alert--warning",e.className),children:e.children})},danger:function(e){return(0,t.jsx)(j,{...z,...e,className:(0,o.A)("alert alert--danger",e.className),children:e.children})}},...{secondary:e=>(0,t.jsx)(g,{title:"secondary",...e}),important:e=>(0,t.jsx)(T,{title:"important",...e}),success:e=>(0,t.jsx)(S,{title:"success",...e}),caution:function(e){return(0,t.jsx)(j,{...I,...e,className:(0,o.A)("alert alert--warning",e.className),children:e.children})}}};function D(e){const n=r(e),i=(s=n.type,P[s]||(console.warn(`No admonition component found for admonition type "${s}". Using Info as fallback.`),P.info));var s;return(0,t.jsx)(i,{...n})}},5167:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"installation/index","title":"Installation","description":"SAT v0.2.0* or higher introduces full support for Unity Catalog. You can now pick your own catalog instead of being limited to the hive_metastore. Additionally, you have the flexibility to choose your own schema name.","source":"@site/docs/installation/index.mdx","sourceDirName":"installation","slug":"/installation/","permalink":"/security-analysis-tool/docs/installation/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Functionality","permalink":"/security-analysis-tool/docs/functionality"},"next":{"title":"Standard Install","permalink":"/security-analysis-tool/docs/installation/standard/"}}');var t=i(4848),r=i(8453),o=i(2362);const a={sidebar_position:2},l="Installation",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hive Metastore Based Schema",id:"hive-metastore-based-schema",level:3},{value:"Unity Catalog Based Schema",id:"unity-catalog-based-schema",level:3},{value:"Uninstalling SAT",id:"uninstalling-sat",level:2},{value:"Standard Setup",id:"standard-setup",level:3},{value:"Terraform Setup",id:"terraform-setup",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,t.jsx)(o.A,{type:"note",title:"Note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SAT v0.2.0"})," or higher introduces full support for Unity Catalog. You can now pick your own catalog instead of being limited to the hive_metastore. Additionally, you have the flexibility to choose your own schema name."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Deployment Requirements"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AWS/GCP:"})," At least one SAT setup in a workspace per ",(0,t.jsx)(n.strong,{children:"Databricks account"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Azure:"})," At least one SAT setup in a workspace per ",(0,t.jsx)(n.strong,{children:"Azure subscription"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["SAT uses the configured Service Principal to access and analyze configurations by calling account and workspace APIs. Please ensure that the Service Principal is added to ",(0,t.jsx)(n.strong,{children:"all"})," workspaces you intend to analyze, following the instructions in the setup guides linked below. If you choose to ",(0,t.jsx)(n.strong,{children:"exclude"})," a specific workspace from analysis, simply do not add the Service Principal to it."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Networking and Access Considerations"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["SAT running on Serverless or Classic Compute cannot analyze account and destination workspaces with IP Access Control Lists (ACLs) enabled unless those ACLs are updated to allow access from the SAT workspace.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If IP Access Control Lists (ACLs) are enabled at the account level and you are running SAT on serverless, contact your account team if you need to allowlist account-level APIs."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"SAT running on Serverless Compute cannot access other workspaces if egress controls are configured in the SAT workspace. In this case, you must configure a separate SAT in the target workspace to perform the analysis."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Review and Compliance"})}),"\n",(0,t.jsx)(n.p,{children:"Before implementing any security improvements based on the SAT report:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Review the report with business stakeholders, administrators, security teams, and auditors."}),"\n",(0,t.jsx)(n.li,{children:"Not all deviations require mitigation \u2014 evaluate recommendations based on your organizational security requirements."}),"\n",(0,t.jsxs)(n.li,{children:["Some recommendations may have ",(0,t.jsx)(n.strong,{children:"cost implications"})," or ",(0,t.jsx)(n.strong,{children:"dependency limitations"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Refer to individual feature documentation to fully understand the impact before making changes to your security configurations."}),"\n",(0,t.jsx)(n.li,{children:"Keep in mind that SAT is a productivity tool designed to help verify the security configurations of your Databricks deployments. It is not intended to serve as a certification or formal attestation of your deployment's security posture."}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,t.jsxs)(n.p,{children:["Follow this guide to setup the ",(0,t.jsx)(n.strong,{children:"Security Analysis Tool (SAT)"})," on your Databricks workspace(s)."]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(o.A,{type:"note",title:"Note",children:(0,t.jsxs)(n.p,{children:["SAT is especially beneficial to customers on Databricks ",(0,t.jsx)(n.strong,{children:"Premium"})," or ",(0,t.jsx)(n.strong,{children:"Enterprise"})," tiers,  as most of the checks and recommendations involve security features that are only available in tiers above Standard."]})}),"\n",(0,t.jsx)(n.p,{children:"Before proceeding with the installation, make sure you have the following prerequisites:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python 3.9 or higher"}),"\n",(0,t.jsxs)(n.li,{children:["Databricks CLI installed with a profile logged (See ",(0,t.jsx)(n.a,{href:"https://docs.databricks.com/en/dev-tools/cli/install.html",children:"here"}),".)"]}),"\n",(0,t.jsx)(n.li,{children:"Databricks Account ID"}),"\n",(0,t.jsx)(n.li,{children:"Databricks SQL Warehouse (To run the SQL dashboard)"}),"\n",(0,t.jsx)(n.li,{children:"PyPI access from your workspace (To install the SAT utility library)"}),"\n"]}),"\n",(0,t.jsxs)(o.A,{type:"note",title:"Considerations",children:[(0,t.jsxs)(n.p,{children:["SAT creates a new ",(0,t.jsx)(n.strong,{children:"security_analysis"})," schema and Delta tables. If you are an existing SAT user please run the following command:"]}),(0,t.jsx)(n.h3,{id:"hive-metastore-based-schema",children:"Hive Metastore Based Schema"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"  drop database security_analysis cascade;\n"})}),(0,t.jsx)(n.h3,{id:"unity-catalog-based-schema",children:"Unity Catalog Based Schema"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"  drop database <uc_catalog_name>.<schema_name> cascade;\n"})})]}),"\n",(0,t.jsx)(n.p,{children:"SAT can be set up on any of the cloud platforms where Databricks is hosted. Please follow the setup guide specific to your cloud provider:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/security-analysis-tool/docs/installation/standard/aws",children:"AWS Setup Guide"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/security-analysis-tool/docs/installation/standard/azure",children:"Azure Setup Guide"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/security-analysis-tool/docs/installation/standard/gcp",children:"GCP Setup Guide"})}),"\n"]}),"\n",(0,t.jsxs)(o.A,{type:"note",title:"Terraform Install",children:[(0,t.jsx)(n.p,{children:"SAT can be deployed using Terraform. If your organization uses Terraform, it is recommended to follow the Terraform-based deployment instructions:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/security-analysis-tool/docs/installation/terraform/aws",children:"SAT AWS Terraform deployment"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/security-analysis-tool/docs/installation/terraform/azure",children:"SAT Azure Terraform deployment"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/security-analysis-tool/docs/installation/terraform/gcp",children:"SAT GCP Terraform deployment"})}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"uninstalling-sat",children:"Uninstalling SAT"}),"\n",(0,t.jsx)(n.h3,{id:"standard-setup",children:"Standard Setup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Delete the ",(0,t.jsx)(n.strong,{children:"/Workspace/Applications/SAT"})," folder"]}),"\n",(0,t.jsxs)(n.li,{children:["Delete the following workflows:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"SAT Initializer Notebook"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"SAT Driver Notebook"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Delete the ",(0,t.jsx)(n.strong,{children:"SAT"})," Dashboards"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"terraform-setup",children:"Terraform Setup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Run the ",(0,t.jsx)(n.strong,{children:"terraform destroy"})," command"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);