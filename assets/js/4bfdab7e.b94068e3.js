"use strict";(self.webpackChunksat=self.webpackChunksat||[]).push([[998],{2362:(e,n,s)=>{s.d(n,{A:()=>D});var i=s(6540),t=s(4848);function o(e){const{mdxAdmonitionTitle:n,rest:s}=function(e){const n=i.Children.toArray(e),s=n.find((e=>i.isValidElement(e)&&"mdxAdmonitionTitle"===e.type)),o=n.filter((e=>e!==s)),r=s?.props.children;return{mdxAdmonitionTitle:r,rest:o.length>0?(0,t.jsx)(t.Fragment,{children:o}):null}}(e.children),o=e.title??n;return{...e,...o&&{title:o},children:s}}var r=s(4164),l=s(539),a=s(204);const c="admonition_xJq3",d="admonitionHeading_Gvgb",h="admonitionIcon_Rf37",u="admonitionContent_BuS1";function g({type:e,className:n,children:s}){return(0,t.jsx)("div",{className:(0,r.A)(a.G.common.admonition,a.G.common.admonitionType(e),c,n),children:s})}function x({icon:e,title:n}){return(0,t.jsxs)("div",{className:d,children:[(0,t.jsx)("span",{className:h,children:e}),n]})}function j({children:e}){return e?(0,t.jsx)("div",{className:u,children:e}):null}function p(e){const{type:n,icon:s,title:i,children:o,className:r}=e;return(0,t.jsxs)(g,{type:n,className:r,children:[i||s?(0,t.jsx)(x,{title:i,icon:s}):null,(0,t.jsx)(j,{children:o})]})}function f(e){return(0,t.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})})}const m={icon:(0,t.jsx)(f,{}),title:(0,t.jsx)(l.A,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)",children:"note"})};function b(e){return(0,t.jsx)(p,{...m,...e,className:(0,r.A)("alert alert--secondary",e.className),children:e.children})}function v(e){return(0,t.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})})}const w={icon:(0,t.jsx)(v,{}),title:(0,t.jsx)(l.A,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)",children:"tip"})};function y(e){return(0,t.jsx)(p,{...w,...e,className:(0,r.A)("alert alert--success",e.className),children:e.children})}function A(e){return(0,t.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})})}const k={icon:(0,t.jsx)(A,{}),title:(0,t.jsx)(l.A,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)",children:"info"})};function T(e){return(0,t.jsx)(p,{...k,...e,className:(0,r.A)("alert alert--info",e.className),children:e.children})}function _(e){return(0,t.jsx)("svg",{viewBox:"0 0 16 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})})}const S={icon:(0,t.jsx)(_,{}),title:(0,t.jsx)(l.A,{id:"theme.admonition.warning",description:"The default label used for the Warning admonition (:::warning)",children:"warning"})};function N(e){return(0,t.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})})}const C={icon:(0,t.jsx)(N,{}),title:(0,t.jsx)(l.A,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)",children:"danger"})};const z={icon:(0,t.jsx)(_,{}),title:(0,t.jsx)(l.A,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)",children:"caution"})};const M={...{note:b,tip:y,info:T,warning:function(e){return(0,t.jsx)(p,{...S,...e,className:(0,r.A)("alert alert--warning",e.className),children:e.children})},danger:function(e){return(0,t.jsx)(p,{...C,...e,className:(0,r.A)("alert alert--danger",e.className),children:e.children})}},...{secondary:e=>(0,t.jsx)(b,{title:"secondary",...e}),important:e=>(0,t.jsx)(T,{title:"important",...e}),success:e=>(0,t.jsx)(y,{title:"success",...e}),caution:function(e){return(0,t.jsx)(p,{...z,...e,className:(0,r.A)("alert alert--warning",e.className),children:e.children})}}};function D(e){const n=o(e),s=(i=n.type,M[i]||(console.warn(`No admonition component found for admonition type "${i}". Using Info as fallback.`),M.info));var i;return(0,t.jsx)(s,{...n})}},6394:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>g,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"usage","title":"Usage","description":"Navigate to Workspace -> Applications -> SAT -> files -> selfassessmentchecks.yaml and ensure that the \\"enabled\\" values for the listed manual checks are set to either true or false, based on your environment. The SAT tool will automatically evaluate all other configurations.","source":"@site/docs/usage.mdx","sourceDirName":".","slug":"/usage","permalink":"/security-analysis-tool/docs/usage","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"GCP","permalink":"/security-analysis-tool/docs/installation/terraform/gcp"},"next":{"title":"FAQ","permalink":"/security-analysis-tool/docs/faq"}}');var t=s(4848),o=s(8453),r=s(9030),l=s(2362);const a={sidebar_position:2},c="Usage",d={},h=[{value:"Running the SAT Workflows",id:"running-the-sat-workflows",level:2},{value:"Accessing and Viewing the SAT Analysis Dashboard",id:"accessing-and-viewing-the-sat-analysis-dashboard",level:2},{value:"Activating Alerts",id:"activating-alerts",level:2},{value:"Updating Configuration Files (Optional)",id:"updating-configuration-files-optional",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"usage",children:"Usage"})}),"\n",(0,t.jsx)(l.A,{type:"note",title:"Note",children:(0,t.jsxs)(n.p,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Workspace -> Applications -> SAT -> files ->"})," ",(0,t.jsx)(n.code,{children:"self_assessment_checks.yaml"})," and ensure that the ",(0,t.jsx)(n.code,{children:'"enabled"'})," values for the listed manual checks are set to either ",(0,t.jsx)(n.code,{children:"true"})," or ",(0,t.jsx)(n.code,{children:"false"}),", based on your environment. The SAT tool will automatically evaluate all other configurations."]})}),"\n",(0,t.jsx)(n.h2,{id:"running-the-sat-workflows",children:"Running the SAT Workflows"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," These workflows can take up to 10 mins to run per workspace."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Within the ",(0,t.jsx)(n.code,{children:"Workflows"})," pane, there should now be two jobs available: ",(0,t.jsx)(n.strong,{children:"SAT Initializer Notebook"})," and ",(0,t.jsx)(n.strong,{children:"SAT Driver Notebook"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Run the ",(0,t.jsx)(n.strong,{children:"SAT Initalizer Notebook"})," first. It only needs to complete successfully once, though it can be re-run if needed."]}),"\n",(0,t.jsxs)(n.li,{children:["Once the initializer completes, run the ",(0,t.jsx)(n.strong,{children:"SAT Driver Notebook"}),", which can be executed on a recurring basis. By default, it is scheduled to run every Monday, Wednesday, and Friday."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Once the workflows have finished running, you should see the schema under the catalog that was set at the time of installation for ",(0,t.jsx)(n.strong,{children:"SAT"})," within the ",(0,t.jsx)(n.code,{children:"Catalog"})," pane."]}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/catalog_view.png"),alt:"Catalog View"})}),"\n",(0,t.jsx)(n.h2,{id:"accessing-and-viewing-the-sat-analysis-dashboard",children:"Accessing and Viewing the SAT Analysis Dashboard"}),"\n",(0,t.jsxs)(n.p,{children:["Within the ",(0,t.jsx)(n.code,{children:"Dashboards"})," pane, look for the  ",(0,t.jsx)(n.code,{children:"[SAT] Security Analysis Tool - Assessment Results"})," dashboard."]}),"\n",(0,t.jsx)(n.p,{children:"The dashboard is, by default, owned by the user profile or Service Principal used during SAT setup.\nIf you encounter errors when running the dashboard, they are most likely due to permissions issues. To update this behavior:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'Click on the dashboard and in the top right, click on the "Share" button.'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:['Click on the cogwheel icon and select "Assign new owner". Choose the new owner of the dashboard. Ownership can also be assigned to someone with access to the ',(0,t.jsx)(n.strong,{children:"SAT"})," catalog/schema and the underlying tables."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'Click on the "Published" icon next to the name of the dashboard towards the top of the page, and switch to the "Draft" version. Click on the "Publish" button that is next to the "Share" button.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Choose from one of the two credential options:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Embed credentials (default):"})," All viewers run queries using the owner\u2019s credentials and compute.","\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"This may expose data to users who wouldn't normally have access."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don't embed credentials:"})," Each viewer must have access to the workspace and associated data to view the dashboard.","\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"We recommend using this option for more secure access control."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'The dashboard can be shared with other team members by clicking the "Share" button from the "Published" mode.'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["This is what the ",(0,t.jsx)(n.strong,{children:"SAT"})," dashboard should look like:"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/sat_dashboard_partial.png"),alt:"Security Dashboard"})}),"\n",(0,t.jsx)(n.h2,{id:"activating-alerts",children:"Activating Alerts"}),"\n",(0,t.jsxs)(n.p,{children:["Navigate to the ",(0,t.jsx)(n.code,{children:"Alerts"})," from the left-hand pane under the ",(0,t.jsx)(n.code,{children:"SQL"})," section. Click on ",(0,t.jsx)(n.code,{children:"All Alerts"})," to view all of the alerts created by the ",(0,t.jsx)(n.strong,{children:"SAT"})," workflows."]}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/alerts_view.png"),alt:"Alerts_View"})}),"\n",(0,t.jsx)(n.p,{children:"Click on one of the alerts to see the details."}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/alert_details.png"),alt:"Alerts_Details"})}),"\n",(0,t.jsx)(n.p,{children:'Click on the "Add Schedules" button. From the "Settings" tab, you can define the schedule for the alert to be triggered.'}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/alert_settings.png"),alt:"Alerts_Settings"})}),"\n",(0,t.jsx)(n.p,{children:'Next, click on the "Destinations" tab. From here, you can search for a user (email) or a destination object for the alert to be sent to. Click on "Create" to save the schedule with the selected recipient(s) for the alert.'}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/alert_destination.png"),alt:"Alerts_Destination"})}),"\n",(0,t.jsx)(n.h2,{id:"updating-configuration-files-optional",children:"Updating Configuration Files (Optional)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Modifying ",(0,t.jsx)(n.strong,{children:"security_best_practices"})," (Optional)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.code,{children:"Workspace -> Applications -> SAT -> files -> notebooks -> Setup -> 7. update_sat_check_configuration"})]}),"\n",(0,t.jsxs)(n.li,{children:["Use this utility to:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enable or disable individual checks"}),"\n",(0,t.jsx)(n.li,{children:"Modify the Evaluation value"}),"\n",(0,t.jsx)(n.li,{children:"Update the Alert Configuration for each check"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://docs.databricks.com/aws/en/notebooks/widgets#configure-widget-settings-1",children:"Configure widget settings"}),' on "Widget Change" for this notebook to "Do Nothing".']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/upate_security_best_practices.png"),alt:"update_sat_check_configuration"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Modify ",(0,t.jsx)(n.strong,{children:"workspace_configs_file"})," (Required for manual checks values)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Navigate to ",(0,t.jsx)(n.code,{children:"Workspace -> Applications -> SAT -> files -> notebooks -> Setup -> 8. update_workspace_configuration"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Use this utility to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable analysis for a specific workspace by setting analysis_enabled to ",(0,t.jsx)(n.code,{children:"True"}),", or disable it by setting it to ",(0,t.jsx)(n.code,{children:"False"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Turn on a specific workspace while turning off others for a focused run."}),"\n",(0,t.jsx)(n.li,{children:"Apply your configuration changes to multiple workspaces using the \u201cApply Setting to All Workspaces\u201d option."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://docs.databricks.com/aws/en/notebooks/widgets#configure-widget-settings-1",children:"Configure widget settings"}),' on "Widget Change" for this notebook to "Do Nothing".']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Update manual check values for each workspace"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"sso_enabled"}),": Set to ",(0,t.jsx)(n.code,{children:"True"})," if Single Sign-On (SSO) is enabled for the workspace."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"scim_enabled"}),": Set to ",(0,t.jsx)(n.code,{children:"True"})," if SCIM integration is configured for user and group provisioning."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"vpc_peering_done"}),": Set to ",(0,t.jsx)(n.code,{children:"False"})," if the workspace is not peered with another VPC."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"object_storage_encrypted"}),": Set to ",(0,t.jsx)(n.code,{children:"True"})," if your object storage buckets are encrypted."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"table_access_control_enabled"}),": Set to ",(0,t.jsx)(n.code,{children:"True"})," if Table Access Control (ACLs) is enabled to enforce user isolation on clusters."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["These settings are critical for running manual checks and ensuring accurate ",(0,t.jsx)(n.strong,{children:"SAT"})," analysis results."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:(0,t.jsx)("img",{src:(0,r.Ay)("/img/update_workspace_configuration.png"),alt:"update_workspace_configuration"})})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);