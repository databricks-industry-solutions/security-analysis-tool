{"searchDocs":[{"title":"Standard Install","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/standard/","content":"Standard Install Unity Catalog Required SAT v0.5.0 and higher requires Unity Catalog. Make sure Unity Catalog is enabled in your Databricks environment before installing SAT. Python Version Requirement If you install SAT locally using install.sh, you must use Python version lower than 3.12. Python 3.12 is not currently supported for local installations. SAT can be set up on any of the cloud platforms where Databricks is hosted. Please follow the setup guide specific to your cloud provider: AWS Setup GuideAzure Setup GuideGCP Setup Guide Note We welcome your feedback and comments ‚Äî please reach out to us at sat@databricks.com or open a GitHub issue. Please review the Project Support section for important information on support and usage terms.","keywords":"","version":"Next"},{"title":"FAQ","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/faq/","content":"","keywords":"","version":"Next"},{"title":"SAT Deployment and Support‚Äã","type":1,"pageTitle":"FAQ","url":"/security-analysis-tool/docs/faq/#sat-deployment-and-support","content":" Is SAT an officially supported tool? The Security Assessment Tool (SAT) is not officially supported by Databricks. It is provided as-is under the Databricks License, with no guarantees or Service Level Agreements (SLAs). Please do not open support tickets for issues related to SAT. Instead, report any problems or feature requests by creating a GitHub Issue on the project's repository. Issues will be reviewed as time permits. All third-party libraries referenced are subject to their respective licenses.  Can I open Databricks support tickets if I encounter issues with SAT? Currently, SAT is a self-service tool which is developed and maintained by the Databricks field team. If you encounter any issues, please contact your Databricks account team and submit a GitHub issue on the project's repository.  Can SAT be configured on an independent virtual machine? SAT needs to be deployed in one of your Databricks workspaces and run as a workflow. You can trigger the SAT installation process from any machine (preferably Linux) where the Databricks CLI and other prerequisites are available, installed and configured.  Does SAT automatically update once I set up? SAT is frequently updated and the latest versions are made available in the official GitHub repository. SAT deployments do not automatically update on their own. To upgrade or update SAT deployments in your environment, you will need to perform the update manually. This design decision is by choice, so that customers have full control on the upgrade process of SAT.  Can SAT make modifications to my workspaces and account? SAT is meant to be a read-only analysis tool - it does not make changes to your workspace or account configurations.  I am seeing errors when I run the SAT. How can I validate my SAT configuration? There are diagnostic notebooks available to help you verify if your SAT setup has the necessary configurations, permissions, and network paths to run the REST API calls. Please use &quot;Workspace ‚Üí Applications ‚Üí SAT/TF ‚Üí Files ‚Üí Notebooks ‚Üí Diagnosis&quot; to find the appropriate notebook for your cloud provider.  If SAT is already configured, how do we add/remove other workspaces in the same account/subscription? If the service principal configured for SAT has access to any workspaces in the account or subscription, SAT will automatically collect data from those workspaces. To include or exclude workspaces, simply add or remove the service principal from the desired workspaces and rerun the initialization job to update SAT's workspace list.  If a workspace is deleted after the SAT is set up, is there a way to get the initializer to run without error without a full reinstall of the tool? To stop assessing a workspace, you can re-run the initializer. This will mark the workspace connection test as failed, and it will no longer be included in future assessments. Alternatively, you can run the removal step to manually remove the workspace from SAT.  I added a new workspace for analysis, re-ran steps under initialize and driver, but the dashboard is not updated with the new workspace in the pulldown even though I see new data generated by the analysis scan for the new workspace in SAT database. What should I do? It is likely that the dashboard cached the workspaces in the pulldown. You can go to the SQL view of your workspace ‚Üí Queries ‚Üí find workspace_ids query and run it. This process should refresh the cache and you should have the new workspaces in the pull-down.  Can I use one deployment of SAT to monitor all my workspaces across different clouds, like AWS and Azure? A single SAT deployment in AWS can monitor all workspaces within the same AWS account. Similarly, a single SAT deployment in Azure can monitor all workspaces within the same Azure subscription. Monitoring workspaces across multiple cloud platforms with a single SAT deployment is currently not supported.  Do I need different SAT deployment to monitor workspaces in different regions? A single SAT deployment in AWS can monitor all workspaces ‚Äî regardless of region ‚Äî within the same AWS account. Similarly, a single SAT deployment in Azure can monitor all workspaces across any region within the same Azure subscription.  Can SAT be integrated with other cloud based monitoring tools? This is not currently supported. SAT is a security monitoring tool designed specifically for Databricks workspaces. However, you can use the provided export notebook to extract SAT results, which may be used with other tools as needed.  Is SAT supported on AWS GovCloud? SAT is compatible with AWS GovCloud for the Civilian Shard. DoD Shard compatibility will be coming soon.    ","version":"Next","tagName":"h2"},{"title":"SAT Checks‚Äã","type":1,"pageTitle":"FAQ","url":"/security-analysis-tool/docs/faq/#sat-checks","content":" Does SAT test for all of the Databricks Security best practices? We are continuously improving SAT, with most checks aligned to security best practices. However, not all recommendations are included ‚Äî some are cloud-specific, and others cannot be automated due to the lack of supporting REST APIs.  What do the severity labels specifically mean on the SAT configs? How does one interpret them? The severity levels in the SAT report reflect our general assessment of the potential impact of each check, helping most customers prioritize remediation‚Äîstarting with those marked as High severity. However, individual organizations should evaluate the relevance of each finding and adjust prioritization based on their specific security requirements.  Can I disable a check for my assessment? Yes, this is possible. To modify the security best practices checked by SAT, follow the optional step: Navigate to Workspace ‚Üí Applications ‚Üí SAT/TF ‚Üí Files ‚Üí Notebooks ‚Üí Setup ‚Üí 7. update_sat_check_configuration. Use this notebook to enable or disable checks, and adjust evaluation and alert configuration values. You can update this configuration at any time, and all subsequent analyses will reflect your changes.    ","version":"Next","tagName":"h2"},{"title":"SAT Reports‚Äã","type":1,"pageTitle":"FAQ","url":"/security-analysis-tool/docs/faq/#sat-reports","content":" Do we need to address all of the deviations reported by SAT? Please review the SAT report with your business stakeholders, administrators, security team and auditors. Assess your organizational security requirements carefully before making changes based on the report - not all deviations require mitigation. Some recommendations may have cost implications, and some of the security recommendations may have dependency limitations. Always thoroughly review the associated feature documentation before modifying your security configurations.  Why are SSO, SCIM, Table ACLs etc not properly reflected in the SAT report? There are a few checks that rely on self-assessment due to the lack of REST APIs to automatically check them. Please go to &quot;Workspace ‚Üí Applications ‚Üí SAT ‚Üí Files ‚Üí self_assessment_checks.yaml&quot; and ensure the 'enabled' values reflect your environment for the listed manual checks with either true or false. SAT will automatically check the rest of the configurations. Rerun the SAT jobs.   ","version":"Next","tagName":"h2"},{"title":"Installation","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/","content":"","keywords":"","version":"Next"},{"title":"Prerequisites‚Äã","type":1,"pageTitle":"Installation","url":"/security-analysis-tool/docs/installation/#prerequisites","content":" Note SAT is especially beneficial to customers on Databricks Premium or Enterprise tiers, as most of the checks and recommendations involve security features that are only available in tiers above Standard.  Before proceeding with the installation, make sure you have the following prerequisites:  Python 3.9 or higherDatabricks CLI installed with a profile logged (See here.)Databricks Account IDDatabricks SQL Warehouse (To run the SQL dashboard)PyPI access from your workspace (To install the SAT utility library)  SAT can be set up on any of the cloud platforms where Databricks is hosted. Please follow the setup guide specific to your cloud provider:  AWS Setup GuideAzure Setup GuideGCP Setup Guide  Terraform Install SAT can be deployed using Terraform. If your organization uses Terraform, it is recommended to follow the Terraform-based deployment instructions: SAT AWS Terraform deploymentSAT Azure Terraform deploymentSAT GCP Terraform deployment  ","version":"Next","tagName":"h2"},{"title":"Uninstalling SAT‚Äã","type":1,"pageTitle":"Installation","url":"/security-analysis-tool/docs/installation/#uninstalling-sat","content":" Note SAT creates a new security_analysis schema along with Delta tables. If you are an existing SAT user please run the following command: Hive Metastore Based Schema‚Äã drop database security_analysis cascade; Unity Catalog Based Schema‚Äã drop database &lt;uc_catalog_name&gt;.&lt;schema_name&gt; cascade;   ","version":"Next","tagName":"h2"},{"title":"Standard Setup‚Äã","type":1,"pageTitle":"Installation","url":"/security-analysis-tool/docs/installation/#standard-setup","content":" Delete the /Workspace/Applications/SAT folderDelete the following workflows: SAT Initializer NotebookSAT Driver Notebook Delete the SAT Dashboards  ","version":"Next","tagName":"h3"},{"title":"Terraform Setup‚Äã","type":1,"pageTitle":"Installation","url":"/security-analysis-tool/docs/installation/#terraform-setup","content":" Run the terraform destroy command ","version":"Next","tagName":"h3"},{"title":"Azure Installation","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/standard/azure/","content":"","keywords":"","version":"Next"},{"title":"Prerequisites‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#prerequisites","content":" Before you begin, ensure you have:  ‚úÖ Reviewed the general prerequisites‚úÖ Appropriate permissions in your Azure cloud account‚úÖ A metastore attached to your installation workspace‚úÖ Databricks CLI installed and configured‚úÖ Python version lower than 3.12 (for local installation using install.sh)    ","version":"Next","tagName":"h2"},{"title":"Step 1: Create Azure App Registration‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#step-1-create-azure-app-registration","content":" The App Registration allows SAT to authenticate with Azure services and Databricks.  How to create an App Registration Follow these steps in the Azure Portal: Open the Azure portal and navigate to Microsoft Entra IDClick on App registrations ‚Üí New registrationEnter a name for the App Registration (e.g., &quot;SAT-App&quot;)Select the appropriate permissions (minimum requirement: single tenant access)Click Register    ","version":"Next","tagName":"h2"},{"title":"Step 2: Create Client Secret‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#step-2-create-client-secret","content":" How to create an App Client Secret After creating the App Registration: Open the App Registration you just createdClick on Certificates &amp; secrets ‚Üí New client secretEnter a description for the client secretSelect an expiry dateClick AddCopy and save the secret value immediately (you won't be able to see it again!)Add the app with &quot;Reader&quot; role to your subscription: Navigate to your subscription's Access control (IAM) sectionClick Add role assignmentSelect the &quot;Reader&quot; roleAssign it to your App Registration    ","version":"Next","tagName":"h2"},{"title":"Step 3: Add Service Principal to Databricks‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#step-3-add-service-principal-to-databricks","content":" Now you'll connect your Azure App Registration to Databricks as a Service Principal.  How to add the Service Principal Follow these steps in Databricks Account Console: Navigate to the Databricks Account ConsoleClick on User management in the left sidebarSelect Service Principal ‚Üí Add service principalPaste the App Client ID (Application ID from Azure)Create a name for the service principalClick AddGrant the Account Admin roleAssign the Workspace Admin role for each workspace to be monitoredAdd to the Metastore Admin group or role Required Permissions: Account Admin roleWorkspace Admin role for each workspaceMetastore admin group membership üìö Learn more about Service Principals    ","version":"Next","tagName":"h2"},{"title":"Step 4: Run Installation‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#step-4-run-installation","content":" Credentials Required Have these credentials ready before starting: üîë Databricks Account IDüîë Azure Tenant IDüîë Azure Subscription IDüîë Azure App Client ID (from Step 1)üîë Azure App Client Secret (from Step 2)  ","version":"Next","tagName":"h2"},{"title":"Installation Steps‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#installation-steps","content":" Run these commands on your workstation or a VM with internet access and Databricks workspace connectivity:  1. Clone the SAT repository:  git clone https://github.com/databricks-industry-solutions/security-analysis-tool.git cd security-analysis-tool   Databricks CLI Required Make sure the target workspace has a profile configured in the Databricks CLI.  2. Make the installation script executable and run it:  chmod +x install.sh ./install.sh   Proxy Support Proxies are supported! You can add your HTTP and HTTPS proxy values during the install.sh script when prompted.  3. Follow the interactive prompts:  The installation script will guide you through the setup process. Here's what it looks like:      ","version":"Next","tagName":"h3"},{"title":"Next Steps‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#next-steps","content":" Congratulations! You've successfully installed SAT on Azure Databricks.  Installation Complete SAT is now ready to analyze your Databricks workspaces. Click here for a detailed guide on how to run and use it.    ","version":"Next","tagName":"h2"},{"title":"Need Help?‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#need-help","content":" Troubleshooting Installation Issues If you encounter problems during installation: Common Issues: ‚úì Double-check your credentials are correct‚úì Verify you have the required permissions in your Azure and Databricks environments‚úì Ensure the Service Principal has been added to all workspaces‚úì Confirm the metastore is attached to your workspace‚úì Verify the App Registration has the &quot;Reader&quot; role on your subscription Resources: Review our FAQ page for common questionsUse the diagnostic notebook to verify your setupCheck the troubleshooting guide for specific errors Still need help? Contact us at sat@databricks.com    ","version":"Next","tagName":"h2"},{"title":"References‚Äã","type":1,"pageTitle":"Azure Installation","url":"/security-analysis-tool/docs/installation/standard/azure/#references","content":" Azure App RegistrationDatabricks Service Principals on Azure ","version":"Next","tagName":"h2"},{"title":"GCP Installation","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/standard/gcp/","content":"","keywords":"","version":"Next"},{"title":"Prerequisites‚Äã","type":1,"pageTitle":"GCP Installation","url":"/security-analysis-tool/docs/installation/standard/gcp/#prerequisites","content":" Before you begin, ensure you have:  ‚úÖ Reviewed the general prerequisites‚úÖ Appropriate permissions in your GCP Cloud account‚úÖ A metastore attached to your installation workspace‚úÖ Databricks CLI installed and configured‚úÖ Python version lower than 3.12 (for local installation using install.sh)    ","version":"Next","tagName":"h2"},{"title":"Step 1: Create Service Principal‚Äã","type":1,"pageTitle":"GCP Installation","url":"/security-analysis-tool/docs/installation/standard/gcp/#step-1-create-service-principal","content":" The Service Principal allows SAT to authenticate with your Databricks workspaces and collect security information.  üìã How to create a Service Principal Follow these steps in the Databricks Account Console: Navigate to the GCP Account ConsoleClick on User management in the left sidebarSelect Service Principal ‚Üí Add service principalEnter a name for the service principal (e.g., &quot;SAT-Service-Principal&quot;)Grant the Account Admin roleAssign the Workspace Admin role for each workspace to be monitoredAdd to the Metastore Admin group or roleCreate a new OAuth SecretSave the Secret and Client ID (you'll need these later)Add the Service Principal to each workspace you want to analyze Required Permissions: Account Admin roleWorkspace Admin role for each workspaceMetastore admin group membership    ","version":"Next","tagName":"h2"},{"title":"Step 2: Run Installation‚Äã","type":1,"pageTitle":"GCP Installation","url":"/security-analysis-tool/docs/installation/standard/gcp/#step-2-run-installation","content":" Credentials Required Have these credentials ready before starting: üîë Databricks Account IDüîë Databricks Service Principal ID (Client ID from Step 1)üîë Databricks Service Principal Secret (from Step 1)  ","version":"Next","tagName":"h2"},{"title":"Installation Steps‚Äã","type":1,"pageTitle":"GCP Installation","url":"/security-analysis-tool/docs/installation/standard/gcp/#installation-steps","content":" Run these commands on your workstation or a VM with internet access and Databricks workspace connectivity:  1. Clone the SAT repository:  git clone https://github.com/databricks-industry-solutions/security-analysis-tool.git cd security-analysis-tool   Databricks CLI Required Make sure the target workspace has a profile configured in the Databricks CLI.  2. Make the installation script executable and run it:  chmod +x install.sh ./install.sh   Proxy Support Proxies are supported! You can add your HTTP and HTTPS proxy values during the install.sh script when prompted.  3. Follow the interactive prompts:  The installation script will guide you through the setup process. Here's what it looks like:      ","version":"Next","tagName":"h3"},{"title":"üéâ Next Steps‚Äã","type":1,"pageTitle":"GCP Installation","url":"/security-analysis-tool/docs/installation/standard/gcp/#-next-steps","content":" Congratulations! You've successfully installed SAT on GCP Databricks.  Installation Complete SAT is now ready to analyze your Databricks workspaces. Click here for a detailed guide on how to run and use it.    ","version":"Next","tagName":"h2"},{"title":"Need Help?‚Äã","type":1,"pageTitle":"GCP Installation","url":"/security-analysis-tool/docs/installation/standard/gcp/#need-help","content":" üîß Troubleshooting Installation Issues If you encounter problems during installation: Common Issues: ‚úì Double-check your credentials are correct‚úì Verify you have the required permissions in your Databricks environment‚úì Ensure the Service Principal has been added to all workspaces‚úì Confirm the metastore is attached to your workspace Resources: Review our FAQ page for common questionsUse the diagnostic notebook to verify your setupCheck the troubleshooting guide for specific errors Still need help? Contact us at sat@databricks.com ","version":"Next","tagName":"h2"},{"title":"Terraform Install","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/terraform/","content":"Terraform Install Unity Catalog Required SAT v0.5.0 and higher requires Unity Catalog. Make sure Unity Catalog is enabled in your Databricks environment before installing SAT. Note We welcome your feedback and comments ‚Äî please reach out to us at sat@databricks.com or open a GitHub issue. Please review the Project Support section for important information on support and usage terms. SAT can be set up on any of the cloud platforms where Databricks is hosted using Terraform. Please follow the setup guide specific to your cloud provider: AWS Terraform InstallAzure Terraform InstallGCP Terraform Install","keywords":"","version":"Next"},{"title":"AWS","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/terraform/aws/","content":"","keywords":"","version":"Next"},{"title":"Setting Up Terraform‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#setting-up-terraform","content":" Unity Catalog Required SAT v0.5.0 and higher requires Unity Catalog. Make sure Unity Catalog is enabled in your Databricks environment before installing SAT.  Note SAT v0.2.0 or higher introduces full support for Unity Catalog. You can now pick your own catalog instead of being limited to the hive_metastore. Additionally, you have the flexibility to choose your own schema name.  ","version":"Next","tagName":"h2"},{"title":"Step 1: Install Required Tools‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-1-install-required-tools","content":" Install Terraform.Install Git on your local machine.  ","version":"Next","tagName":"h3"},{"title":"Step 2: Clone the Repository‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-2-clone-the-repository","content":" Clone the Security Analysis Tool repository using:  git clone https://github.com/databricks-industry-solutions/security-analysis-tool.git   ","version":"Next","tagName":"h3"},{"title":"Step 3: Navigate to the Terraform Directory‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-3-navigate-to-the-terraform-directory","content":" Navigate to the relevant cloud directory:  cd security-analysis-tool/terraform/&lt;cloud&gt;/   ","version":"Next","tagName":"h3"},{"title":"Step 4: Configure Variables‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-4-configure-variables","content":" Create a terraform.tfvars file using the template.tfvars file as a base.Refer to the variables.tf for descriptions of the variables.Set all required variables for your deployment.  Further Documentation for some of the variables:  workspace_id account_console_id  Proxies are now supported as part of SAT. You can add your HTTP and HTTPS links to use your proxies.  { &quot;http&quot;: &quot;http://example.com&quot;, &quot;https&quot;: &quot;https://example.com&quot; }   ","version":"Next","tagName":"h3"},{"title":"Run Terraform and SAT Workflows‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#run-terraform-and-sat-workflows","content":" ","version":"Next","tagName":"h2"},{"title":"Step 5: Run Terraform Commands‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-5-run-terraform-commands","content":" Initialize Terraform:  terraform init   Plan Terraform Changes - create a plan to preview changes to your infrastructure:  terraform plan   Apply Terraform Plan - Execute the proposed changes:  terraform apply   ","version":"Next","tagName":"h3"},{"title":"Step 6: Run Databricks Jobs‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-6-run-databricks-jobs","content":" Run &quot;SAT Initializer Notebook&quot;:  This must be run successfully once. While it can be run multiple times, a single successful run is sufficient.  Run &quot;SAT Driver Notebook&quot;:  This notebook can be scheduled to run periodically (e.g., every Monday, Wednesday, and Friday).  ","version":"Next","tagName":"h3"},{"title":"Step 7: Access the SAT Dashboard‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#step-7-access-the-sat-dashboard","content":" Navigate to the SQL &gt; Dashboard in the left menu from the Databricks workspace.Select the SAT Dashboard, choose a Workspace from the dropdown, and refresh the dashboard.  ","version":"Next","tagName":"h3"},{"title":"Supplemental Documentation‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#supplemental-documentation","content":" Databricks Documentation TerraformDatabricks Terraform Provider Docs  ","version":"Next","tagName":"h3"},{"title":"Additional Considerations:‚Äã","type":1,"pageTitle":"AWS","url":"/security-analysis-tool/docs/installation/terraform/aws/#additional-considerations","content":" If a pre-existing secret scope named sat_scope causes jobs to fail:  Rename the secret scope in secrets.tfRe-run terraform apply.Update the secret scope name in 6 locations (CMD 4 and CMD 5) of Workspace -&gt; Applications -&gt; SAT-TF/notebooks/Utils/initialize.Re-run failed jobs  Congratulations! üéâ You are now ready to start using the SAT. Please click here for a detailed description on how to run and use it. ","version":"Next","tagName":"h3"},{"title":"Functionality","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/functionality/","content":"","keywords":"","version":"Next"},{"title":"How SAT Works‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#how-sat-works","content":" SAT is typically run daily as an automated workflow within your environment. Here's what it does:  üìä Data Collection Collects configuration details from Databricks accounts and workspaces via REST APIs. üíæ Historical Tracking Persists results in Delta tables within your storage environment for historical tracking and trend analysis. üìà Centralized Reporting Displays results in a centralized Databricks SQL dashboard, categorized into five distinct sections to help stakeholders review relevant workspace settings.    ","version":"Next","tagName":"h2"},{"title":"Key Features‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#key-features","content":" üéØ Prioritized Checks Checks are organized by severity, enabling focus on high-impact security areas. üìö Documentation Links Each check includes links guiding users to the most up-to-date configuration best practices. üîî Alerting Capabilities Notifications can be triggered on failed critical checks for immediate attention. üîç Detailed Explanations Comprehensive failure explanations enable admins to pinpoint, isolate, and remediate issues quickly.    ","version":"Next","tagName":"h2"},{"title":"Security Categories & Severity Levels‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#security-categories--severity-levels","content":" Comprehensive Coverage SAT evaluates over 60 security best practices across five key categories, with more being added regularly.  Data from all configured workspaces is consolidated and presented through a single-pane SQL Dashboard. All findings are organized into the following categories:  Security Pillars:  üõ°Ô∏è Network Securityüë• Identity &amp; Accessüîê Data Protection‚öñÔ∏è Governance‚ÑπÔ∏è Informational  Severity Levels:  üî¥ High - Critical issues requiring immediate attentionüü° Medium - Important issues to address soonüü¢ Low - Minor issues for continuous improvement  This structured view helps stakeholders quickly assess risk areas and prioritize remediation efforts across multiple workspaces.      ","version":"Next","tagName":"h2"},{"title":"Dashboard Components‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#dashboard-components","content":" The SAT dashboard is organized into intuitive sections, each designed to help you quickly assess your security posture across all workspaces.  Workspace Security Summary A high-level overview of security findings, broken down by category and categorized by severity (High, Medium, Low). This provides an at-a-glance view of the overall security health of each workspace. What you'll see: Summary counts per security categoryColor-coded severity indicatorsQuick comparison across workspaces  Workspace Stats Displays essential metadata about the analysis run, helping you understand the context of your security findings. Information included: ‚è∞ Timestamp of the Analysisüè¢ Workspace Nameüíº Service/Pricing Tierüåç Cloud Region  Individual Security Category Details Each of the five security pillars includes comprehensive information to help you understand and address security issues. What each section includes: Summary counts of deviations from security best practicesDetailed table of security findings, sorted by severityDescription of each issueLinks to relevant documentation for remediation guidance  Informational Section This section highlights observations that are less prescriptive but still valuable for in-depth security reviews. Purpose:These findings can be reviewed by data and security teams to ensure thresholds and configurations align with organizational policies. Not all informational findings require action, but they provide valuable context for security decision-making.  Additional Finding Details Provides deep-dive information to help pinpoint the root cause of specific findings, including the logic used to detect each issue. Example: If the finding is &quot;Cluster policy not used&quot;, the dashboard will list the specific cluster workloads where no policy was applied ‚Äî eliminating the guesswork and enabling simplified remediation.    ","version":"Next","tagName":"h2"},{"title":"Detection Example‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#detection-example","content":" Let's look at how SAT identifies and presents security findings in practice.  Real-World Example The example below shows how SAT highlights security issues with clear visual indicators and actionable remediation guidance.  Two findings shown:  üî¥ Deprecated Runtime Versions This check is marked red, indicating that some workloads are using deprecated Databricks runtime versions. While such workloads may continue to run, they will no longer receive support or security patches from Databricks. The Remediation column explains the risk and provides a link to the official documentation listing currently supported runtime versions.  ‚úÖ Log Delivery This check is marked green, confirming that the workspace configuration aligns with Databricks' security best practices for log delivery.    ","version":"Next","tagName":"h2"},{"title":"Drilling Down into Details‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#drilling-down-into-details","content":" Customers can use the Additional Details section to view specific configuration settings or controls that caused a best practice check to fail.  Example 1: Deprecated Runtime Versions The image below shows additional context for this check, allowing administrators to quickly identify and investigate the affected workloads.    Example 2: Log Delivery (GOV-3) Customers can learn more about the &quot;Log Delivery&quot; check by referencing its identifier, GOV-3.    Continuous Improvement Regularly running SAT checks enables a comprehensive view of your Databricks account and workspace security posture. It also supports continuous improvement by helping you detect and resolve potential security risks early.    ","version":"Next","tagName":"h3"},{"title":"Security Configuration Comparison‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#security-configuration-comparison","content":" Track Your Progress This feature enables side-by-side comparison of two SAT runs across all security dimensions, helping you identify improvements and regressions over time.  This drill-down view helps identify which best practice checks have improved or regressed, allowing security teams to take timely action.  What to look for:  ‚úÖ Improvements Cross marks (‚ùå) turning into check marks (‚úì) reflect better alignment with best practices.  ‚ö†Ô∏è Regressions Check marks (‚úì) turning into cross marks (‚ùå) signal degradation and should be investigated immediately. Alerts are automatically triggered for critical regressions, notifying relevant stakeholders via email.  Example: The diagram below highlights changes in individual checks across categories. The red rectangle illustrates an improvement in the &quot;Enforce User Isolation&quot; check, while also showing a regression in the &quot;Admin Count&quot; best practice.      ","version":"Next","tagName":"h2"},{"title":"Getting Started‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#getting-started","content":" Deployment Requirement SAT must be installed in at least one workspace per Databricks account on AWS or GCP, and in at least one workspace per Azure subscription.  Ready to install SAT?  üìñ Installation Guides:  Standard Setup Guide - Manual installationTerraform Setup Guide - Infrastructure as Code  üìñ Usage Guide:  Usage Guide - Instructions on running workflows, viewing dashboards, and customizing security checks    ","version":"Next","tagName":"h2"},{"title":"Executive Dashboard‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#executive-dashboard","content":" In addition to the comprehensive SAT dashboard, an Executive Dashboard is also provided. This view consolidates key findings from the complete dashboard and presents them in an easy-to-digest format.  What leadership can do:  ‚úÖ Quickly understand the overall security health of Databricks deployments‚úÖ Identify critical security issues that require immediate attention‚úÖ Track security improvements over time‚úÖ Make informed decisions about security investments and priorities  This executive-level view complements the detailed technical dashboard, ensuring that both technical teams and business stakeholders have access to the security insights they need.      ","version":"Next","tagName":"h2"},{"title":"Secret Scanner Dashboard‚Äã","type":1,"pageTitle":"Functionality","url":"/security-analysis-tool/docs/functionality/#secret-scanner-dashboard","content":" SAT includes a Secret Scanner Dashboard that detects exposed credentials such as API keys, tokens, and passwords across your Databricks Notebooks. This powerful feature helps you quickly identify, prioritize, and remediate secret leaks to keep your Databricks workspaces secure.  Key Features:  üîç Comprehensive Detection  Scans all notebooks across monitored workspacesIdentifies various types of secrets (API keys, tokens, passwords, custom secrets)Provides unique secret counts and total occurrences  ‚ö° Quick Remediation  Detailed breakdown of secrets by notebookDirect notebook path referencesCategorized by secret type for easy prioritization  This dashboard enables security teams to maintain a proactive stance on credential management, ensuring that sensitive information is not inadvertently exposed in notebook code.   ","version":"Next","tagName":"h2"},{"title":"Azure","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/terraform/azure/","content":"","keywords":"","version":"Next"},{"title":"Setting Up Terraform‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#setting-up-terraform","content":" Unity Catalog Required SAT v0.5.0 and higher requires Unity Catalog. Make sure Unity Catalog is enabled in your Databricks environment before installing SAT.  Note SAT v0.2.0 or higher introduces full support for Unity Catalog. You can now pick your own catalog instead of being limited to the hive_metastore. Additionally, you have the flexibility to choose your own schema name.  Note SAT requires at least one SAT set up in a workspace per Azure subscription.  ","version":"Next","tagName":"h2"},{"title":"Step 1: Install Required Tools‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-1-install-required-tools","content":" Install Terraform.Install Git on your local machine.  ","version":"Next","tagName":"h3"},{"title":"Step 2: Clone the Repository‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-2-clone-the-repository","content":" Clone the Security Analysis Tool repository using:  git clone https://github.com/databricks-industry-solutions/security-analysis-tool.git   ","version":"Next","tagName":"h3"},{"title":"Step 3: Navigate to the Terraform Directory‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-3-navigate-to-the-terraform-directory","content":" Navigate to the relevant cloud directory:  cd security-analysis-tool/terraform/&lt;cloud&gt;/   ","version":"Next","tagName":"h3"},{"title":"Step 4: Configure Variables‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-4-configure-variables","content":" Create a terraform.tfvars file using the template.tfvars file as a base.Refer to the variables.tf for descriptions of the variables.Set all required variables for your deployment.  Azure-Specific Configuration‚Äã  Follow the Azure Setup Guide for variable setup.  Service Principal Role Requirements:‚Äã  &quot;Reader&quot; role at the subscription level via Access control (IAM).Accounts Admin roleAdmin role for each workspaceMember of the metastore admin group  Refer to the documentation for workspace_url, workspace_id, and account_console_id  ","version":"Next","tagName":"h3"},{"title":"Step 5: Configure Azure CLI Credentials‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-5-configure-azure-cli-credentials","content":" Set up Azure CLI credentials for the provider block in provider.tf.Use the Azure CLI to log in. The CLI will open a web browser for authentication:  az login   Proxies are now supported as part of SAT. You can add your HTTP and HTTPS links to use your proxies.  { &quot;http&quot;: &quot;http://example.com&quot;, &quot;https&quot;: &quot;https://example.com&quot; }   ","version":"Next","tagName":"h3"},{"title":"Run Terraform and SAT Workflows‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#run-terraform-and-sat-workflows","content":" ","version":"Next","tagName":"h2"},{"title":"Step 6: Run Terraform Commands‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-6-run-terraform-commands","content":" Initialize Terraform:  terraform init   Plan Terraform Changes - create a plan to preview changes to your infrastructure:  terraform plan   Apply Terraform Plan - Execute the proposed changes:  terraform apply   ","version":"Next","tagName":"h3"},{"title":"Step 7: Run Databricks Jobs‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-7-run-databricks-jobs","content":" Run &quot;SAT Initializer Notebook&quot;:  This must be run successfully once. While it can be run multiple times, a single successful run is sufficient.  Run &quot;SAT Driver Notebook&quot;:  This notebook can be scheduled to run periodically (e.g., every Monday, Wednesday, and Friday).  ","version":"Next","tagName":"h3"},{"title":"Step 8: Access the SAT Dashboard‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#step-8-access-the-sat-dashboard","content":" Navigate to the SQL &gt; Dashboard in the left menu from the Databricks workspace.Select the SAT Dashboard, choose a Workspace from the dropdown, and refresh the dashboard.  ","version":"Next","tagName":"h3"},{"title":"Supplemental Documentation‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#supplemental-documentation","content":" Databricks Documentation TerraformDatabricks Terraform Provider Docs  ","version":"Next","tagName":"h3"},{"title":"Additional Considerations:‚Äã","type":1,"pageTitle":"Azure","url":"/security-analysis-tool/docs/installation/terraform/azure/#additional-considerations","content":" If a pre-existing secret scope named sat_scope causes jobs to fail:  Rename the secret scope in secrets.tfRe-run terraform apply.Update the secret scope name in 6 locations (CMD 4 and CMD 5) of Workspace -&gt; Applications -&gt; SAT-TF/notebooks/Utils/initialize.Re-run failed jobs  Congratulations! üéâ You are now ready to start using the SAT. Please click here for a detailed description on how to run and use it. ","version":"Next","tagName":"h3"},{"title":"GCP","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/terraform/gcp/","content":"","keywords":"","version":"Next"},{"title":"Setting Up Terraform‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#setting-up-terraform","content":" Unity Catalog Required SAT v0.5.0 and higher requires Unity Catalog. Make sure Unity Catalog is enabled in your Databricks environment before installing SAT.  Note SAT v0.2.0 or higher introduces full support for Unity Catalog. You can now pick your own catalog instead of being limited to the hive_metastore. Additionally, you have the flexibility to choose your own schema name.  ","version":"Next","tagName":"h2"},{"title":"Step 1: Install Required Tools‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-1-install-required-tools","content":" Install Terraform.Install Git on your local machine.  ","version":"Next","tagName":"h3"},{"title":"Step 2: Clone the Repository‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-2-clone-the-repository","content":" Clone the Security Analysis Tool repository using:  git clone https://github.com/databricks-industry-solutions/security-analysis-tool.git   ","version":"Next","tagName":"h3"},{"title":"Step 3: Navigate to the Terraform Directory‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-3-navigate-to-the-terraform-directory","content":" Navigate to the relevant cloud directory:  cd security-analysis-tool/terraform/&lt;cloud&gt;/   ","version":"Next","tagName":"h3"},{"title":"Step 4: Configure Variables‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-4-configure-variables","content":" Create a terraform.tfvars file using the template.tfvars file as a base.Refer to the variables.tf for descriptions of the variables.Set all required variables for your deployment.  Further Documentation for some of the variables:  workspace_id  account_console_id  Proxies are now supported as part of SAT. You can add your HTTP and HTTPS links to use your proxies.  { &quot;http&quot;: &quot;http://example.com&quot;, &quot;https&quot;: &quot;https://example.com&quot; }   ","version":"Next","tagName":"h3"},{"title":"Run Terraform and SAT Workflows‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#run-terraform-and-sat-workflows","content":" ","version":"Next","tagName":"h2"},{"title":"Step 5: Run Terraform Commands‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-5-run-terraform-commands","content":" Initialize Terraform:  terraform init   Plan Terraform Changes - create a plan to preview changes to your infrastructure:  terraform plan   Apply Terraform Plan - Execute the proposed changes:  terraform apply   ","version":"Next","tagName":"h3"},{"title":"Step 6: Run Databricks Jobs‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-6-run-databricks-jobs","content":" Run &quot;SAT Initializer Notebook&quot;:  This must be run successfully once. While it can be run multiple times, a single successful run is sufficient.  Run &quot;SAT Driver Notebook&quot;:  This notebook can be scheduled to run periodically (e.g., every Monday, Wednesday, and Friday).  ","version":"Next","tagName":"h3"},{"title":"Step 7: Access the SAT Dashboard‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#step-7-access-the-sat-dashboard","content":" Navigate to the SQL &gt; Dashboard in the left menu from the Databricks workspace.Select the SAT Dashboard, choose a Workspace from the dropdown, and refresh the dashboard.  ","version":"Next","tagName":"h3"},{"title":"Supplemental Documentation‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#supplemental-documentation","content":" Databricks Documentation TerraformDatabricks Terraform Provider Docs  ","version":"Next","tagName":"h3"},{"title":"Additional Considerations:‚Äã","type":1,"pageTitle":"GCP","url":"/security-analysis-tool/docs/installation/terraform/gcp/#additional-considerations","content":" If a pre-existing secret scope named sat_scope causes jobs to fail:  Rename the secret scope in secrets.tfRe-run terraform apply.Update the secret scope name in 6 locations (CMD 4 and CMD 5) of Workspace -&gt; Applications -&gt; SAT-TF/notebooks/Utils/initialize.Re-run failed jobs  Congratulations! üéâ You are now ready to start using the SAT. Please click here for a detailed description on how to run and use it. ","version":"Next","tagName":"h3"},{"title":"AWS Installation","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/installation/standard/aws/","content":"","keywords":"","version":"Next"},{"title":"Prerequisites‚Äã","type":1,"pageTitle":"AWS Installation","url":"/security-analysis-tool/docs/installation/standard/aws/#prerequisites","content":" Before you begin, ensure you have:  ‚úÖ Reviewed the general prerequisites‚úÖ Appropriate permissions in your Databricks Account Console‚úÖ A metastore attached to your installation workspace‚úÖ Databricks CLI installed and configured‚úÖ Python version lower than 3.12 (for local installation using install.sh)    ","version":"Next","tagName":"h2"},{"title":"Step 1: Create Service Principal‚Äã","type":1,"pageTitle":"AWS Installation","url":"/security-analysis-tool/docs/installation/standard/aws/#step-1-create-service-principal","content":" The Service Principal allows SAT to authenticate with your Databricks workspaces and collect security information.  How to create a Service Principal Follow these steps in the Databricks Account Console: Navigate to the Account ConsoleClick on User management in the left sidebarSelect Service Principal ‚Üí Add service principalEnter a name for the service principal (e.g., &quot;SAT-Service-Principal&quot;)Grant the Account Admin roleAssign the Workspace Admin role for each workspace to be monitoredAdd to the Metastore Admin group or roleCreate a new OAuth SecretSave the Secret and Client ID (you'll need these later)Add the Service Principal to each workspace you want to analyze Required Permissions: Account Admin roleWorkspace Admin role for each workspaceMetastore admin group membership    ","version":"Next","tagName":"h2"},{"title":"Step 2: Run Installation‚Äã","type":1,"pageTitle":"AWS Installation","url":"/security-analysis-tool/docs/installation/standard/aws/#step-2-run-installation","content":" Credentials Required Have these credentials ready before starting: üîë Databricks Account IDüîë Databricks Service Principal ID (Client ID from Step 1)üîë Databricks Service Principal Secret (from Step 1)  ","version":"Next","tagName":"h2"},{"title":"Installation Steps‚Äã","type":1,"pageTitle":"AWS Installation","url":"/security-analysis-tool/docs/installation/standard/aws/#installation-steps","content":" Run these commands on your workstation or a VM with internet access and Databricks workspace connectivity:  1. Clone the SAT repository:  git clone https://github.com/databricks-industry-solutions/security-analysis-tool.git cd security-analysis-tool   Databricks CLI Required Make sure the target workspace has a profile configured in the Databricks CLI.  2. Make the installation script executable and run it:  chmod +x install.sh ./install.sh   Proxy Support Proxies are supported! You can add your HTTP and HTTPS proxy values during the install.sh script when prompted.  3. Follow the interactive prompts:  The installation script will guide you through the setup process. Here's what it looks like:      ","version":"Next","tagName":"h3"},{"title":"Next Steps‚Äã","type":1,"pageTitle":"AWS Installation","url":"/security-analysis-tool/docs/installation/standard/aws/#next-steps","content":" Congratulations! You've successfully installed SAT on AWS Databricks.  Installation Complete SAT is now ready to analyze your Databricks workspaces. Click here for a detailed guide on how to run and use it.    ","version":"Next","tagName":"h2"},{"title":"Need Help?‚Äã","type":1,"pageTitle":"AWS Installation","url":"/security-analysis-tool/docs/installation/standard/aws/#need-help","content":" Troubleshooting Installation Issues If you encounter problems during installation: Common Issues: ‚úì Double-check your credentials are correct‚úì Verify you have the required permissions in your Databricks environment‚úì Ensure the Service Principal has been added to all workspaces‚úì Confirm the metastore is attached to your workspace Resources: Review our FAQ page for common questionsUse the diagnostic notebook to verify your setupCheck the troubleshooting guide for specific errors Still need help? Contact us at sat@databricks.com ","version":"Next","tagName":"h2"},{"title":"Usage","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/usage/","content":"","keywords":"","version":"Next"},{"title":"Running the SAT Jobs and Pipelines‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#running-the-sat-jobs-and-pipelines","content":" Note: These jobs can take up to 10 mins to run per workspace.  Within the Jobs and Pipelines pane, there should now be two jobs available: SAT Initializer Notebook and SAT Driver Notebook.  Run the SAT Initalizer Notebook first. It only needs to complete successfully once, though it can be re-run if needed.Once the initializer completes, run the SAT Driver Notebook, which can be executed on a recurring basis. By default, it is scheduled to run every Monday, Wednesday, and Friday.  Optionally, run the SAT Secrets Scanner Notebook to scan workspace notebooks for exposed secrets using TruffleHog. This can be run on-demand or scheduled separately based on your security requirements. Once the Jobs and Pipelines have finished running, you should see the schema under the catalog that was set at the time of installation for SAT within the Catalog pane.    ","version":"Next","tagName":"h2"},{"title":"Accessing and Viewing the SAT Dashboards‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#accessing-and-viewing-the-sat-dashboards","content":" SAT provides multiple dashboards to suit different audiences and use cases:  Main SAT Dashboard - [SAT] Security Analysis Tool - Assessment Results A comprehensive dashboard with detailed security findings across all categories. Executive Dashboard A streamlined, high-level view designed for stakeholders and executives who need a quick overview of the security posture. Secret Scanner Dashboard A specialized dashboard that detects and reports exposed credentials (API keys, tokens, passwords) across your Databricks notebooks.  Leverage Databricks One You can use Databricks One to access and share the SAT dashboards across your organization, making it easier to distribute security insights to stakeholders.  ","version":"Next","tagName":"h2"},{"title":"Dashboard Configuration‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#dashboard-configuration","content":" The dashboards are, by default, owned by the user profile or Service Principal used during SAT setup. If you encounter errors when running the dashboard, they are most likely due to permissions issues. To update this behavior:  Click on the dashboard and in the top right, click on the &quot;Share&quot; button. Click on the cogwheel icon and select &quot;Assign new owner&quot;. Choose the new owner of the dashboard. Ownership can also be assigned to someone with access to the SAT catalog/schema and the underlying tables. Click on the &quot;Published&quot; icon next to the name of the dashboard towards the top of the page, and switch to the &quot;Draft&quot; version. Click on the &quot;Publish&quot; button that is next to the &quot;Share&quot; button. Choose from one of the two credential options: Embed credentials (default): All viewers run queries using the owner's credentials and compute. This may expose data to users who wouldn't normally have access. Don't embed credentials: Each viewer must have access to the workspace and associated data to view the dashboard. We recommend using this option for more secure access control. The dashboard can be shared with other team members by clicking the &quot;Share&quot; button from the &quot;Published&quot; mode. This is what the SAT dashboard should look like:    ","version":"Next","tagName":"h3"},{"title":"Activating Alerts‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#activating-alerts","content":" Navigate to the Alerts from the left-hand pane under the SQL section. Click on All Alerts to view all of the alerts created by the SAT jobs.    Click on one of the alerts to see the details.    Click on the &quot;Add Schedules&quot; button. From the &quot;Settings&quot; tab, you can define the schedule for the alert to be triggered.    Next, click on the &quot;Destinations&quot; tab. From here, you can search for a user (email) or a destination object for the alert to be sent to. Click on &quot;Create&quot; to save the schedule with the selected recipient(s) for the alert.    ","version":"Next","tagName":"h2"},{"title":"Updating Configuration Files (Optional)‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#updating-configuration-files-optional","content":" Modifying security_best_practices (Optional) Navigate to Workspace -&gt; Applications -&gt; SAT -&gt; files -&gt; notebooks -&gt; Setup -&gt; 7. update_sat_check_configurationUse this utility to: Enable or disable individual checksModify the Evaluation valueUpdate the Alert Configuration for each check Configure widget settings on &quot;Widget Change&quot; for this notebook to &quot;Do Nothing&quot;.    Modify workspace_configs_file (Required for manual checks values) Navigate to Workspace -&gt; Applications -&gt; SAT -&gt; files -&gt; notebooks -&gt; Setup -&gt; 8. update_workspace_configuration Use this utility to: Enable analysis for a specific workspace by setting analysis_enabled to True, or disable it by setting it to False.Turn on a specific workspace while turning off others for a focused run.Apply your configuration changes to multiple workspaces using the ‚ÄúApply Setting to All Workspaces‚Äù option. Configure widget settings on &quot;Widget Change&quot; for this notebook to &quot;Do Nothing&quot;. Update manual check values for each workspace sso_enabled: Set to True if Single Sign-On (SSO) is enabled for the workspace.scim_enabled: Set to True if SCIM integration is configured for user and group provisioning.vpc_peering_done: Set to False if the workspace is not peered with another VPC.object_storage_encrypted: Set to True if your object storage buckets are encrypted.table_access_control_enabled: Set to True if Table Access Control (ACLs) is enabled to enforce user isolation on clusters. These settings are critical for running manual checks and ensuring accurate SAT analysis results.    ","version":"Next","tagName":"h2"},{"title":"Configuring Secret Scanning (Optional)‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#configuring-secret-scanning-optional","content":" The SAT Secrets Scanner uses TruffleHog to detect exposed secrets in Databricks workspace notebooks. This includes detection of:  Databricks-specific tokens (DKEA, DAPI, DOSE)AWS, Azure, and GCP cloud credentialsAPI tokens and keys (GitHub, Slack, Stripe, etc.)Private keys and other sensitive credentials  ","version":"Next","tagName":"h2"},{"title":"Configuration‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#configuration","content":" Secret scanning behavior can be configured via the trufflehog_detectors.yaml file located in the configs folder:  days_back: Controls how far back to search for modified notebooks Set to 1 to scan notebooks modified in the last day (default)Set to 7 to scan notebooks modified in the last weekSet to 0 to scan ALL notebooks in the workspace (no time filter) page_size: Number of notebooks to process per API page (default: 50)custom detectors: Add custom regex patterns to detect organization-specific secret formats  ","version":"Next","tagName":"h3"},{"title":"Viewing Secret Scan Results‚Äã","type":1,"pageTitle":"Usage","url":"/security-analysis-tool/docs/usage/#viewing-secret-scan-results","content":" Secret scan results are stored in the secret_scan_results table within your SAT schema and available to reviews via SAT Dashboard. ","version":"Next","tagName":"h3"},{"title":"Overview","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/motivation/","content":"","keywords":"","version":"Next"},{"title":"Why Use SAT?‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#why-use-sat","content":" Databricks has worked with thousands of customers to securely deploy its platform, leveraging security features that meet diverse architectural requirements. While security implementations vary across organizations, there are commonly adopted guidelines and features used by organizations with high security standards.  SAT helps you:  üîç Identify Security Gaps Automatically scan your Databricks environment to find deviations from security best practices. üìä Prioritize Risks Get recommendations ranked by severity (High, Medium, Low) to focus on the most critical issues first. üìö Access Documentation Each recommendation includes direct links to relevant Databricks documentation for easy implementation. ‚úÖ Verify Compliance Ensure your configurations align with industry standards and organizational security policies.    ","version":"Next","tagName":"h2"},{"title":"What SAT Analyzes‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#what-sat-analyzes","content":" SAT performs comprehensive security checks across multiple dimensions:  üõ°Ô∏è Network Security - Firewall rules, IP access controls, VPC configurationsüë• Identity &amp; Access - Authentication, authorization, user managementüîê Data Protection - Encryption, data access controls, secrets management‚öñÔ∏è Governance - Audit logging, workspace settings, policies‚ÑπÔ∏è Informational - Configuration insights and recommendations  Each check identifies opportunities to harden your Databricks configurations, services, and resources, with clear explanations and remediation guidance.    ","version":"Next","tagName":"h2"},{"title":"Important Considerations‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#important-considerations","content":" Assessment Tool - Not a Certification SAT is a productivity tool designed to help verify your security configurations against Databricks best practices. It is not intended to serve as a certification or formal attestation of your deployment's security posture.  ","version":"Next","tagName":"h2"},{"title":"Before Making Changes‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#before-making-changes","content":" Please review the SAT report with your:  ‚úì Business stakeholders‚úì System administrators‚úì Security team‚úì Compliance auditors  Key points to consider:  üìå Not all deviations require immediate mitigationüí∞ Some recommendations may have cost implicationsüîó Some security features may have dependency limitationsüìñ Always review the associated documentation before making changes  Additional Resources For more security guidance, visit the Databricks Security and Trust Center for comprehensive resources and best practices.    ","version":"Next","tagName":"h3"},{"title":"Project Updates & Support‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#project-updates--support","content":" ","version":"Next","tagName":"h2"},{"title":"Continuous Improvement‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#continuous-improvement","content":" The SAT project is regularly updated to:  ‚ú® Improve check accuracyüÜï Add new security checksüêõ Fix bugs and issuesüìà Enhance reporting features  ","version":"Next","tagName":"h3"},{"title":"Getting Help‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#getting-help","content":" üìß Feedback &amp; Questions Contact us at sat@databricks.com or open a GitHub issue üîÑ Updates Watch the GitHub repository for the latest releases    ","version":"Next","tagName":"h3"},{"title":"Project Support‚Äã","type":1,"pageTitle":"Overview","url":"/security-analysis-tool/docs/motivation/#project-support","content":" Community-Supported Project Important Support Information: ‚ö†Ô∏è This code is provided for exploration purposes only‚ö†Ô∏è Not formally supported by Databricks under any Service Level Agreements (SLAs)‚ö†Ô∏è Provided AS-IS, without warranties or guarantees‚ö†Ô∏è Do not submit support tickets to Databricks for issues with this project How to Get Help: üìù Submit bugs or issues as GitHub Issues‚è∞ Issues will be reviewed as time permitsü§ù Community contributions are welcome Licensing: üìÑ Source code is subject to the Databricks LICENSEüìö Third-party libraries are subject to their respective licenses ","version":"Next","tagName":"h2"},{"title":"Troubleshooting","type":0,"sectionRef":"#","url":"/security-analysis-tool/docs/troubleshooting/","content":"","keywords":"","version":"Next"},{"title":"Diagnostic Notebooks‚Äã","type":1,"pageTitle":"Troubleshooting","url":"/security-analysis-tool/docs/troubleshooting/#diagnostic-notebooks","content":" Quick Diagnosis Diagnosis notebooks for each cloud platform are available to help troubleshoot your SAT setup. To run the appropriate diagnostic notebook: Navigate to Workspace ‚Üí Applications ‚Üí SAT ‚Üí files ‚Üí notebooks ‚Üí diagnosis folderOpen and run the notebook corresponding to your cloud provider Available diagnostic notebooks: SAT AWS troubleshooting notebookSAT Azure troubleshooting notebookSAT GCP troubleshooting notebook    ","version":"Next","tagName":"h2"},{"title":"Common Issues‚Äã","type":1,"pageTitle":"Troubleshooting","url":"/security-analysis-tool/docs/troubleshooting/#common-issues","content":" Misconfigured Secrets - Secret does not exist with scope Error: Secret does not exist with scope: sat_scope and key: sat_tokens Resolution: Check if the tokens are configured with the correct names by listing and comparing with the configuration. databricks --profile e2-sat secrets list-secrets sat_scope   Firewall Blocking Databricks Accounts Console - Connection Reset Error Error: Traceback (most recent call last): File &quot;/databricks/python/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 670, in urlopen httplib_response = self._make_request( File &quot;/databricks/python/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 381, in _make_request self._validate_conn(conn) File &quot;/databricks/python/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 978, in _validate_conn conn.connect() File &quot;/databricks/python/lib/python3.8/site-packages/urllib3/connection.py&quot;, line 362, in connect self.sock = ssl_wrap_socket( File &quot;/databricks/python/lib/python3.8/site-packages/urllib3/util/ssl_.py&quot;, line 386, in ssl_wrap_socket return context.wrap_socket(sock, server_hostname=server_hostname) File &quot;/usr/lib/python3.8/ssl.py&quot;, line 500, in wrap_socket return self.sslsocket_class._create( File &quot;/usr/lib/python3.8/ssl.py&quot;, line 1040, in _create self.do_handshake() File &quot;/usr/lib/python3.8/ssl.py&quot;, line 1309, in do_handshake self._sslobj.do_handshake() ConnectionResetError: [Errno 104] Connection reset by peer During handling of the above exception, another exception occurred: Resolution: Run the following command in your notebook to test connectivity: %sh curl -X GET -H &quot;Authorization: Basic /&lt;base64 of userid:password/&gt;&quot; -H &quot;Content-Type: application/json&quot; https://accounts.cloud.databricks.com/api/2.0/accounts/&lt;account_id&gt;/workspaces or %sh curl -u 'user:password' -X GET &quot;Content-Type: application/json&quot; https://accounts.cloud.databricks.com/api/2.0/accounts/&lt;account_id&gt;/workspaces If you don't see a JSON with a clean listing of workspaces, you are likely having a firewall issue that is blocking calls to the accounts console. Please have your infrastructure team add accounts.cloud.databricks.com to the allow-list. Ensure that the private IPv4 address from the NAT gateway is added to the IP allow list.  Offline Library Install - No PyPI Access If your workspace does not have access to PyPI, follow these steps to install the required libraries manually: Steps: Download the dbl_sat_sdk version specified in the notebook notebooks/utils/initialize from PyPi: https://pypi.org/project/dbl-sat-sdk/ Upload the dbl_sat_sdk-w.x.y-py3-none-any.whl to a dbfs location. You can use the databricks-cli as one mechanism to upload. For example: databricks --profile e2-satfs cp /localdrive/whlfile/dbl_sat_sdk-w.x.y-py3-none-any.whl dbfs:/FileStore/wheels/ Additionally, download the following wheel files and upload them to the dbfs location as above: https://github.com/databricks-industry-solutions/security-analysis-tool/tree/main/docs/wheels Upload all wheel files to /FileStore/wheels in your workspace. Verify all files are there by running: %fs ls /FileStore/wheels Then change the cell in your notebook install_sat_sdk to this: %pip install msal --find-links /Volumes/{catalog}/{schema}/{volume_name}/msal-1.22.0-py2.py3-none-any.whl %pip install dbl-sat-sdk==0.1.37 --find-links /Volumes/{catalog}/{schema}/{volume_name}/dbl_sat_sdk-0.1.37-py3-none-any.whl Make sure the versions for the above libraries match.   ","version":"Next","tagName":"h2"}],"options":{"id":"default"}}